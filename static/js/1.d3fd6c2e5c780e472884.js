webpackJsonp([1],{"/7Cp":function(t,i){},"0D4q":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e("KH7x"),s=e.n(a),n=e("IHPB"),o=e.n(n),r=e("3cXf"),l=e.n(r),c=e("7d4M"),d=e("mzkE"),v=e("zMny"),_=e("SXXC"),u=e.n(_),h=e("zH3I"),m=e.n(h),p=e("pLux"),g=e("zf2T"),f=e("mNA5");function b(t){for(var i=[],e=0,a=(t=(t||0).toString().split("")).length-1;a>=0;a--)e++,i.unshift(t[a]),e%3||0==a||i.unshift(",");return i.join("")}function C(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 0==i?Object(g.a)(t):i>0?Object(g.a)(t).times(Object(g.a)("1"+"0".repeat(i))):Object(g.a)(t).div(Object(g.a)("1"+"0".repeat(-i)))}var M=!0,x=void 0,w={name:"tradition",inject:["reload"],data:function(){return{isEnterMargin:!1,isPosition_info:!0,isConnect:!1,noNetwork:!0,long_short:!0,isApprove:!1,isMargin:!0,isVolume:!1,confirm:!0,isClickClosePosition:!1,seen:!1,current:0,socket:null,addMarginSub:"",btc_coin:"BTC",removeMarginSub:"",modalMarginNum:"",wallet:"0.0000",maxMargin:"",fundingRatePerBlock:"",tit_margin:"You have no fund in contract. Please deposit first.",walletSymbol:"",networkText:"",address:"",account:"",noNetworkText:"",position:"--",balance:"--",Margin:"--",availableBalance:"--",contrantVolume:"",per:0,chainId:0,FundingRate:"--",TotalNetPosition:"--",PoolTotalliquidity:"--",Volume:"--",AverageEntryPrice:"--",balanceContract:"--",Direction:"LONG",UnrealizedPnL:"--",LiquidationPrice:"--",baseToken:"USDT",symbol:"BTCUSD",Multiplier:"0.0001",FundingRateCoefficient:"0.0000025",MinInitialMarginRatio:"10%",MinMaintenanceMarginRatio:"5%",TransactionFee:"0.05%",total_liquidity:"0.00",liq_used:"--",liq_used_after:"--",fund_rate_after:"--",mfee:"0.00",btc:"0.0000",ofContracts:"0",Positionafterexcution:"0",IndexPrice:"0",rose_fall:"rose",leverage:"0.0",withdrawMargin:"",depositMargin:"",beginper:"",maxBalance:"",isPosition:"",history:[],bToken_list:[],agement:[],upagement:[]}},components:{slider:c.a,footers:d.a,tardingview:v.default},watch:{contrantVolume:{handler:function(t,i){var e=this.position;if(M=!1,""==t||0==t)return this.isVolume=!1,this.per=0,this.btc="0.0000",this.leverage="0.0",this.Margin="0.00",void(M=!0);this.isVolume=!0;var a=+t;this.ofContracts=a;var s=void 0;"---"!=e?(e=+e,this.long_short?(this.Positionafterexcution=e+a,s=this.Positionafterexcution):(this.Positionafterexcution=e-a,a*=-1,s=this.Positionafterexcution,this.Positionafterexcution<=0&&(s=-1*this.Positionafterexcution))):this.long_short?(this.Positionafterexcution=a,s=a):(s=a,a*=-1,this.Positionafterexcution="-"+a);var n=(a*this.Multiplier).toFixed(4);this.btc=n<0?-1*n:n;var o=s*this.IndexPrice*this.Multiplier,r=(o/this.balanceContract).toFixed(1),c=(o*this.InitialMargin).toFixed(2);this.isMargin=!0,this.tit_margin="You have no fund in contract. Please deposit first.";var d=JSON.parse(l()(this.upagement));if(d.push(a),this.getEstimatedLiquidityUsed(d),this.getEstimatedFundingRate(d),c>+this.maxMargin)return this.isMargin=!1,this.leverage="10X",this.availableBalance=0,this.Margin=this.maxMargin,this.tit_margin="Trading volume exceeds leverage limit. Please deposit more fund. ",void(this.per=100);this.calMargin(a),this.Margin=Math.abs(c),this.availableBalance=this.balanceContract-this.Margin,this.availableBalance=this.availableBalance.toFixed(2),this.per=10*r,this.leverage=r<0?-1*r:r}},depositMargin:{handler:function(t,i){this.isEnterMargin=0!=t&&""!=t}},withdrawMargin:{handler:function(t,i){this.isEnterMargin=0!=t&&""!=t}},symbol:{handler:function(t,i){if("COIN"==t)this.btc_coin="COIN";else{var e=t.slice(0,-3);this.btc_coin=e}}}},mounted:function(){if(this.initScoket(),sessionStorage.getItem("chainId"))this.connectWallet();else{var t=p.a.get(),i="prod"==t?"1":"3",e="prod"==t?"0x3C2970466635AAeFEd1cfe630D051Fa6D281aEbB":"0x67eE8f0CB17e750219Bd58d433D52ab4B3d8A081";this.getFundingRate2([i,e])}u()("input").attr("disabled",!0),u()("button").attr("disabled",!0),u()(".connect").attr("disabled",!1),u()(".connect_btn").attr("disabled",!1);var a=this;this.getIndexPrice(),x=setInterval(function(){a.getIndexPrice()},1e3),this.$once("hook:beforeDestroy",function(){clearInterval(x)})},methods:{enter:function(t){this.seen=!0,this.current=t},leave:function(){this.seen=!1,this.current=null},addMaxMargin:function(){this.depositMargin=this.maxBalance},removeMaxMargin:function(){this.withdrawMargin=this.maxMargin},getTransaction:function(t,i){var e=void 0,a=void 0;switch(t=String(t)){case"1":a="https://etherscan.io/tx/"+i,e="View at https://etherscan.io/";break;case"56":a="https://bscscan.com/tx/"+i,e="View at https://bscscan.com/";break;case"128":a="https://hecoscan.xyz/tx/"+i,e="View at https://hecoscan.xyz/";break;case"3":a="https://ropsten.etherscan.io/tx/"+i,e="View at https://ropsten.etherscan.io/";break;case"97":a="https://testnet.bscscan.com/tx/"+i,e="View at https://testnet.bscscan.com/";break;case"256":a="https://testnet.hecoinfo.com/tx/"+i,e="View at https://testnet.hecoinfo.com/";break;default:a="",e=""}return{url:e,url_tx:a}},getTradeHistory:function(){var t=this;Object(p.K)(this.chainId,this.pool,this.account).then(function(i){console.log("getTradeHistory",i),i.map(function(i,e){"LONG"==i.direction&&(i.direction="LONG / BUY"),"SHORT"==i.direction&&(i.direction="SHORT / SELL"),i.direction=i.direction.toUpperCase();var a=t.getTransaction(t.chainId,i.transactionHash);i.url_tx=a.url_tx,i.url=a.url,i.index=e,i.time=m()(+i.time).format("YYYY-MM-DD HH:mm:ss"),i.price=(+i.price).toFixed(2)}),t.history=i})},getTradeHistory2:function(){var t=this;this.history=[],Object(p.L)(this.chainId,this.pool,this.account).then(function(i){console.log("getTradeHistory",i),i.map(function(i,e){"LONG"==i.direction&&(i.direction="LONG / BUY"),"SHORT"==i.direction&&(i.direction="SHORT / SELL"),i.direction=i.direction.toUpperCase();var a=t.getTransaction(t.chainId,i.transactionHash);i.url_tx=a.url_tx,i.url=a.url,i.index=e,i.time=m()(+i.time).format("YYYY-MM-DD HH:mm:ss"),i.price=(+i.price).toFixed(2)}),t.history=i})},getWalletSymbol:function(t){switch(t=String(t)){case"1":this.walletSymbol="ETH",this.networkText="ETHEREUM";break;case"56":this.walletSymbol="BNB",this.networkText="BSC";break;case"128":this.walletSymbol="HT",this.networkText="HECO";break;case"3":this.walletSymbol="ETH",this.networkText="ROPSTEN";break;case"42":this.walletSymbol="ETH",this.networkText="KOVAN";break;case"97":this.walletSymbol="BNB",this.networkText="BSC TESTNET";break;case"256":this.walletSymbol="HT",this.networkText="HECO TESTNET";break;default:this.walletSymbol=""}},getIndexPrice:function(){var t=this,i=void 0;i="prod"==p.a.get()?"COIN"==this.symbol?"https://oracle3.deri.finance/price":"https://oracle.deri.finance/price":"https://oracle2.deri.finance/price",this.$axios.get(i,{params:{symbol:this.symbol}}).then(function(i){var e=C(i.data.price,-18);e=(e=+e).toFixed(2),t.IndexPrice>e?t.rose_fall="fall":t.rose_fall="rose",t.IndexPrice=e})},getEstimatedFundingRate:function(t){var i=this;p.q.apply(void 0,o()(t)).then(function(t){i.fund_rate_after=t.fundingRate1})},getEstimatedLiquidityUsed:function(t){var i=this;p.r.apply(void 0,o()(t)).then(function(t){i.liq_used_after=t.liquidityUsed1})},upFixed:function(t,i){var e="0";if(Number(t)&&i>0)if(i=+i||2,/e/.test(t+=""))e=t;else if(/\./.test(t)){t=t+""+Array(i+1).join("0");var a=new RegExp("-?\\d*\\.\\d{0,"+i+"}"),s=a.exec(t)[0];if(+s>=+t)e=s;else{var n=+s+ +("0."+Array(i).join("0")+"1"),o=n+(/\./.test(n+"")?"":".")+""+Array(i+1).join("0");e=a.exec(o)[0]}}else e=t+"."+Array(i+1).join("0");return e},calMargin:function(t){var i=this,e=JSON.parse(l()(this.upagement));e.push(t),p.p.apply(void 0,o()(e)).then(function(t){var e=+t;e=i.upFixed(e,2),i.mfee=+e})},reset:function(){console.log("reset"),this.depositMargin="",this.withdrawMargin="",this.contrantVolume="",this.ofContracts="--",this.Positionafterexcution="",this.mfee=0,this.getUserWalletBalance(this.chainId,this.account),this.getSpecification(this.agement),this.getPositionInfo(this.agement),this.getWalletBalance(this.agement),this.getFundingRate(this.agement),this.getLiquidityUsed(this.agement),this.getTradeHistory2()},httpReset:function(){console.log("httpReset"),this.depositMargin="",this.withdrawMargin="",this.contrantVolume="",this.ofContracts="--",this.Positionafterexcution="",this.mfee=0,this.getUserWalletBalance(this.chainId,this.account),this.getSpecification2(this.agement),this.getPositionInfo2(this.agement),this.getWalletBalance2(this.agement),this.getFundingRate2(this.agement),this.getLiquidityUsed2(this.agement),this.getTradeHistory2()},place_order_buy:function(){var t=this;this.confirm=!1;var i=this.contrantVolume;if(isNaN(i))return alert("Please enter a positive number"),this.confirm=!0,void u()("#addContract").modal("hide");if(i<0)return alert("volume has to be greater than zero"),this.confirm=!0,void u()("#addContract").modal("hide");if(+i!==parseInt(i))return this.contrantVolume="",alert("volume  must be round"),this.confirm=!0,void u()("#addContract").modal("hide");var e=JSON.parse(l()(this.agement));e.push(i),e.push(0),p.Z.apply(void 0,o()(e)).then(function(i){if(!i.success&&("Pool insufficient liquidity"==i.error&&alert("The pool has insufficient liquidity for your trade"),"Trader insufficient margin"==i.error&&alert("Trader insufficient margin"),"Pool insufficient liquidity"!=i.error&&"Trader insufficient margin"!=i.error)){var e=i.error.errorMessage?i.error.errorMessage:"Failed";alert(""+e)}if(i.success){var a=JSON.parse(l()(t.agement));a.unshift("trade_with_margin"),t.ws_send(a)}t.confirm=!0,u()("#addContract").modal("hide")})},place_order_sell:function(){var t=this;this.confirm=!1;var i=this.contrantVolume;if(isNaN(i))return alert("Please enter a positive number"),this.confirm=!0,void u()("#removeContract").modal("hide");if(i<0)return alert("volume has to be greater than zero"),this.confirm=!0,void u()("#removeContract").modal("hide");if(+i!==parseInt(i))return this.contrantVolume="",alert("volume  must be round"),this.confirm=!0,void u()("#removeContract").modal("hide");i*=-1;var e=JSON.parse(l()(this.agement));e.push(i),e.push(0),p.Z.apply(void 0,o()(e)).then(function(i){if(!i.success&&("Pool insufficient liquidity"==i.error&&alert("The pool has insufficient liquidity for your trade"),"Trader insufficient margin"==i.error&&alert("Trader insufficient margin"),"Pool insufficient liquidity"!=i.error&&"Trader insufficient margin"!=i.error)){var e=i.error.errorMessage?i.error.errorMessage:"Failed";alert(""+e)}if(i.success){var a=JSON.parse(l()(t.agement));a.unshift("trade_with_margin"),t.ws_send(a)}t.confirm=!0,u()("#removeContract").modal("hide")})},closePosition:function(){var t=this,i=this.agement;this.isClickClosePosition=!0,p.f.apply(void 0,o()(i)).then(function(i){if(i.success){t.reset();var e=JSON.parse(l()(t.agement));e.unshift("close_position"),t.ws_send(e)}else{var a=i.error.errorMessage?i.error.errorMessage:"Failed";alert(""+a)}t.isClickClosePosition=!1})},onWithdrawMargin:function(){var t=this,i=this.withdrawMargin,e=u()("#withdrawMarginButton");console.log(i,this.availableBalance);var a=C(i),s=void 0;if(s=this.isPosition?C(this.maxMargin):C(this.availableBalance),a.gt(s))alert("under margin");else if(i<=0||isNaN(i))alert("It has to be greater than zero");else{var n=JSON.parse(l()(this.agement));n.push(i),this.disableButton(e),p._3.apply(void 0,o()(n)).then(function(i){if(console.log(i),!i.success){var a=i.error.errorMessage?i.error.errorMessage:"Failed";alert(""+a)}if(i.success){var s=JSON.parse(l()(t.agement));s.unshift("withdraw_margin"),t.ws_send(s)}t.enableButton(e),u()("#removeMargin").modal("hide")})}},onDepositMargin:function(){var t=this,i=this.depositMargin,e=u()("#depositMarginButton"),a=C(i),s=C(this.maxBalance);if(console.log(a),a.gt(s))alert("Insufficient balance in wallet");else if(i<=0||isNaN(i))alert("It has to be greater than zero");else{console.log(i);var n=JSON.parse(l()(this.agement));n.push(i),this.disableButton(e),p.h.apply(void 0,o()(n)).then(function(i){if(console.log(i),!i.success){var a=i.error.errorMessage?i.error.errorMessage:"Failed";alert(""+a)}if(i.success){var s=JSON.parse(l()(t.agement));s.unshift("deposit_margin"),t.ws_send(s)}u()("#addMargin").modal("hide"),t.enableButton(e)})}},initScoket:function(){var t=this;this.socket=Object(f.io)("wss://api.deri.finance",{transports:["websocket"],path:"/ws"}),this.socket.on("connect",function(){console.log("hello from websocket:",t.socket.id)}),this.socket.on("trade_tx_receipt",function(i){console.log(i),(i=JSON.parse(i)).success?t.httpReset():t.reset()})},ws_send:function(t){var i=s()(t,4),e=i[0]+"("+i[1]+","+i[2]+","+i[3]+")";this.socket.send(e)},connectWallet:function(){var t=this;Object(p.g)().then(function(i){if(i.success){t.chainId=i.chainId;var e=p.a.get(),a=Object(p.o)(e);if(t.chainIdOfList=a.filter(function(i){return i.chainId==t.chainId}),!t.chainIdOfList.length){t.noNetwork=!1,t.noNetworkText="Unsupported Chain ID "+t.chainId+"!";var s="prod"==e?"1":"3",n="prod"==e?"0x3C2970466635AAeFEd1cfe630D051Fa6D281aEbB":"0x67eE8f0CB17e750219Bd58d433D52ab4B3d8A081";return void t.getFundingRate2([s,n])}t.account=i.account,t.address=i.account.slice(0,6)+"..."+i.account.slice(i.account.length-4,i.account.length),t.isConnect=!0,u()("button").attr("disabled",!1),u()("input").attr("disabled",!1),t.pool=t.chainIdOfList[0].pool,M=!0,t.baseToken=t.chainIdOfList[0].bTokenSymbol;var o=sessionStorage.getItem("pool");if(o){var r=t.chainIdOfList.filter(function(t){return t.pool==o});r.length&&(t.pool=r[0].pool)}p.V.clear(),p.V.update(t.chainId,t.pool),p.b.update(t.chainId,t.pool,t.account),sessionStorage.setItem("chainId",t.chainId),sessionStorage.setItem("pool",t.pool),t.agement=[String(t.chainId),t.pool,t.account],t.upagement=[String(t.chainId),t.pool],t.getSpecification2(t.agement),t.getPositionInfo2(t.agement),t.getUserWalletBalance(t.chainId,t.account),t.getWalletBalance2(t.agement),t.getFundingRateCache2(t.upagement),t.getFundingRate2(t.upagement),t.getLiquidityUsed2(t.upagement),t.isUnlocked(t.agement),t.getTradeHistory2();var l=t;setInterval(function(){M&&l.getPositionInfo(l.agement)},3e3),t.$once("hook:beforeDestroy",function(){M=!1})}})},getLiquidityUsed2:function(t){var i=this;p.y.apply(void 0,o()(t)).then(function(t){i.liq_used=t.liquidityUsed0})},getFundingRate2:function(t){var i=this;p.t.apply(void 0,o()(t)).then(function(t){console.log(t),i.FundingRate=t.fundingRate0,i.fundingRatePerBlock=t.fundingRatePerBlock,i.TotalNetPosition=t.tradersNetVolume,i.Volume=t.volume,i.PoolTotalliquidity=(+t.liquidity).toFixed(2)})},getSpecification2:function(t){var i=this;p.J.apply(void 0,o()(t)).then(function(t){i.InitialMargin=t.minInitialMarginRatio;var e=100*t.minInitialMarginRatio,a=100*t.minMaintenanceMarginRatio,s=100*t.feeRatio;i.baseToken=t.bSymbol,i.sbasetoken=t.bSymbol,i.symbol=t.symbol,i.FundingRateCoefficient=t.fundingRateCoefficient,i.Multiplier=t.multiplier,i.MinInitialMarginRatio=e+"%",i.MinMaintenanceMarginRatio=a+"%",i.TransactionFee=s+"%",i.bToken_list=[],i.chainIdOfList.map(function(t){var e={};Object(p.J)(t.chainId,t.pool,i.account).then(function(a){e.base=a.symbol+" / "+t.bTokenSymbol,e.pool=t.pool,e.symbol=a.symbol,e.bTokenSymbol=t.bTokenSymbol,i.bToken_list.push(e)})})})},getPositionInfo2:function(t){var i=this;p.C.apply(void 0,o()(t)).then(function(t){if(M){i.maxMargin=t.margin;var e=+t.margin,a=t.volume,s=+t.averageEntryPrice,n=+t.marginHeld,o=+t.unrealizedPnl;if(0==i.maxMargin?i.isApprove&&(i.isMargin=!1):i.isMargin=!0,i.position=a,0==i.position?i.isPosition=!0:i.isPosition=!1,0==i.position?(i.isPosition=!0,i.Direction="--"):i.isPosition=!1,i.position>0&&(i.Direction="LONG"),i.position<0&&(i.Direction="SHORT"),isNaN(s)?i.AverageEntryPrice="---":i.AverageEntryPrice=s.toFixed(2),"0"==t.liquidationPrice)i.LiquidationPrice="---";else{var r=+t.liquidationPrice;i.LiquidationPrice=r.toFixed(2)}i.Margin=n.toFixed(2),i.UnrealizedPnL=o.toFixed(8),i.balanceContract=(o+e).toFixed(2);var l=i.balanceContract-i.Margin,c=(+l).toFixed(2);c=c.substring(c.indexOf(".")+1,c.indexOf(".")+3),i.removeMarginSub=c,i.modalMarginNum=b(parseInt(l)),i.availableBalance=(+l).toFixed(2),0!=i.maxMargin?(i.leverage=(i.position*i.IndexPrice*i.Multiplier/i.balanceContract).toFixed(1),i.per=10*i.leverage,i.beginper=Math.abs(i.leverage),i.leverage<0?i.leverage=-1*i.leverage:i.leverage=i.leverage):i.per=0}})},getWalletBalance2:function(t){var i=this;p.Q.apply(void 0,o()(t)).then(function(t){i.maxBalance=t;var e=(+t).toFixed(2);e=e.substring(e.indexOf(".")+1,e.indexOf(".")+3),i.addMarginSub=e,i.balance=b(parseInt(t))})},getFundingRateCache2:function(t){var i=this;p.u.apply(void 0,o()(t)).then(function(t){var e=JSON.parse(l()(i.upagement));e.push(t),p.i.set.apply(p.i,o()(e))})},getLiquidityUsed:function(t){var i=this;p.x.apply(void 0,o()(t)).then(function(t){i.liq_used=t.liquidityUsed0})},getFundingRate:function(t){var i=this;p.s.apply(void 0,o()(t)).then(function(t){i.FundingRate=t.fundingRate0,i.fundingRatePerBlock=t.fundingRatePerBlock,i.TotalNetPosition=t.tradersNetVolume,i.Volume=t.volume,i.PoolTotalliquidity=(+t.liquidity).toFixed(2)})},getWalletBalance:function(t){var i=this;p.P.apply(void 0,o()(t)).then(function(t){i.maxBalance=t;var e=(+t).toFixed(2);e=e.substring(e.indexOf(".")+1,e.indexOf(".")+3),i.addMarginSub=e,i.balance=b(parseInt(t))})},isUnlocked:function(t){var i=this;p.T.apply(void 0,o()(t)).then(function(t){i.isApprove=!!t})},unlock:function(){var t=this,i=u()("#Unlock");this.disableButton(i);var e=this.agement;p._0.apply(void 0,o()(e)).then(function(e){e.success?t.isApprove=!0:t.isApprove=!1,t.enableButton(i)})},getPositionInfo:function(t){var i=this;p.B.apply(void 0,o()(t)).then(function(t){if(M){i.maxMargin=t.margin;var e=+t.margin,a=t.volume,s=+t.averageEntryPrice,n=+t.marginHeld,o=+t.unrealizedPnl;if(0==i.maxMargin?i.isApprove&&(i.isMargin=!1):i.isMargin=!0,i.position=a,0==i.position?i.isPosition=!0:i.isPosition=!1,0==i.position?(i.isPosition=!0,i.Direction="--"):i.isPosition=!1,i.position>0&&(i.Direction="LONG"),i.position<0&&(i.Direction="SHORT"),isNaN(s)?i.AverageEntryPrice="---":i.AverageEntryPrice=s.toFixed(2),"0"==t.liquidationPrice)i.LiquidationPrice="---";else{var r=+t.liquidationPrice;i.LiquidationPrice=r.toFixed(2)}i.Margin=n.toFixed(2),i.UnrealizedPnL=o.toFixed(8),i.balanceContract=(o+e).toFixed(2);var l=i.balanceContract-i.Margin,c=(+l).toFixed(2);c=c.substring(c.indexOf(".")+1,c.indexOf(".")+3),i.removeMarginSub=c,i.modalMarginNum=b(parseInt(l)),i.availableBalance=(+l).toFixed(2),0!=i.maxMargin?(i.leverage=(i.position*i.IndexPrice*i.Multiplier/i.balanceContract).toFixed(1),i.per=10*i.leverage,i.beginper=Math.abs(i.leverage),i.leverage<0?i.leverage=-1*i.leverage:i.leverage=i.leverage):i.per=0}})},getUserWalletBalance:function(t,i){var e=this;Object(p.O)(t,i).then(function(i){e.wallet=(+i).toFixed(4),e.getWalletSymbol(t)})},getSpecification:function(t){var i=this;p.I.apply(void 0,o()(t)).then(function(t){i.InitialMargin=t.minInitialMarginRatio;var e=100*t.minInitialMarginRatio,a=100*t.minMaintenanceMarginRatio,s=100*t.feeRatio;i.baseToken=t.bSymbol,i.sbasetoken=t.bSymbol,i.symbol=t.symbol,i.FundingRateCoefficient=t.fundingRateCoefficient,i.Multiplier=t.multiplier,i.MinInitialMarginRatio=e+"%",i.MinMaintenanceMarginRatio=a+"%",i.TransactionFee=s+"%",i.bToken_list=[],i.chainIdOfList.map(function(t){var e={};Object(p.I)(t.chainId,t.pool,i.account).then(function(a){e.base=a.symbol+" / "+t.bTokenSymbol,e.pool=t.pool,e.symbol=a.symbol,e.bTokenSymbol=t.bTokenSymbol,i.bToken_list.push(e)})})})},init:function(t,i,e){this.bToken_list=[],this.symbol=i,this.baseToken=e,this.contrantVolume="",sessionStorage.setItem("pool",t),this.connectWallet()},checkedLong:function(){this.long_short=!0,this.contrantVolume=""},checkedShort:function(){this.long_short=!1,this.contrantVolume=""},per_value:function(t){var i=t/100;if(0!=this.maxMargin){M=!1;var e=i*(this.maxMargin/this.InitialMargin)/(this.IndexPrice*this.Multiplier);this.position<0?(e*=-1,i<this.beginper/10?(this.long_short=!0,0==i?(e=this.position,this.contrantVolume=Math.abs(e)):(e*=-1,this.contrantVolume=parseInt(Math.abs(e+ +this.position)))):(this.long_short=!1,0==i?(e=Math.abs(this.position),this.contrantVolume=e):this.contrantVolume=Math.abs(+this.position-parseInt(e)))):i<this.beginper/10?(this.long_short=!1,0==i?(e=this.position,this.contrantVolume=e):this.contrantVolume=this.position-parseInt(e)):(this.long_short=!0,this.contrantVolume=Math.abs(this.position-parseInt(e)))}},per_up:function(){if(0!=this.contrantVolume)if(this.long_short){var t=((this.contrantVolume+ +this.position)*this.IndexPrice*this.Multiplier/this.maxMargin).toFixed(1);this.per=10*t}else if(this.position<0){var i=((this.contrantVolume+Math.abs(this.position))*this.IndexPrice*this.Multiplier/this.maxMargin).toFixed(1);this.per=10*i}else{var e=((this.contrantVolume-+this.position)*this.IndexPrice*this.Multiplier/this.maxMargin).toFixed(1);this.per=10*e}else this.per=0,M=!0},disableButton:function(t){t.find("span.spinner").show(),t.attr("disabled",!0)},enableButton:function(t){t.find("span.spinner").hide(),t.attr("disabled",!1)}}},y={render:function(){var t=this,i=this,a=i.$createElement,s=i._self._c||a;return s("div",{attrs:{id:"tradition"}},[s("div",{staticClass:"modal fade",attrs:{id:"addContract",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[i._m(0),i._v(" "),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"contract_box_info"},[s("div",{staticClass:"top"},[s("div",{staticClass:"text"},[s("div",{staticClass:"text_title"},[i._v("# of Contracts")]),i._v(" "),s("div",{staticClass:"text_num"},[i._v(i._s(i.ofContracts))])]),i._v(" "),s("div",{staticClass:"text"},[s("div",{staticClass:"text_title"},[i._v("Position after execution")]),i._v(" "),s("div",{staticClass:"text_num"},[i._v(i._s(i.Positionafterexcution))])]),i._v(" "),i._m(1),i._v(" "),s("div",{staticClass:"text"},[s("div",{staticClass:"text_title"},[i._v("Trade Price (estimated)")]),i._v(" "),s("div",{staticClass:"text_num"},[i._v(i._s(i.IndexPrice))])]),i._v(" "),s("div",{staticClass:"text"},[s("div",{staticClass:"text_title"},[i._v("Leverage after execution")]),i._v(" "),s("div",{staticClass:"text_num"},[i._v(i._s(i.leverage)+"X")])]),i._v(" "),s("div",{staticClass:"text"},[s("div",{staticClass:"text_title"},[i._v("Transaction Fee")]),i._v(" "),s("div",{staticClass:"text_num"},[i._v(i._s(i.mfee)+" "+i._s(i.baseToken))])])]),i._v(" "),s("div",{staticClass:"modal-footer"},[i.confirm?s("div",{staticClass:"long_btn"},[s("button",{staticClass:"cancel",attrs:{"data-dismiss":"modal"}},[i._v("\n                CANCEL\n              ")]),i._v(" "),s("button",{staticClass:"confirm",on:{click:i.place_order_buy}},[i._v("\n                OK\n              ")])]):s("div",{staticClass:"long_peding_btn"},[i._m(2)])])])])])])]),i._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"removeContract",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[i._m(3),i._v(" "),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"contract_box_info"},[s("div",{staticClass:"top"},[s("div",{staticClass:"text"},[s("div",{staticClass:"text_title"},[i._v("# of Contracts")]),i._v(" "),s("div",{staticClass:"text_num"},[i._v(i._s(i.ofContracts))])]),i._v(" "),s("div",{staticClass:"text"},[s("div",{staticClass:"text_title"},[i._v("Position after execution")]),i._v(" "),s("div",{staticClass:"text_num"},[i._v(i._s(i.Positionafterexcution))])]),i._v(" "),i._m(4),i._v(" "),s("div",{staticClass:"text"},[s("div",{staticClass:"text_title"},[i._v("Trade Price (estimated)")]),i._v(" "),s("div",{staticClass:"text_num"},[i._v(i._s(i.IndexPrice))])]),i._v(" "),s("div",{staticClass:"text"},[s("div",{staticClass:"text_title"},[i._v("Leverage after execution")]),i._v(" "),s("div",{staticClass:"text_num"},[i._v(i._s(i.leverage)+" X")])]),i._v(" "),s("div",{staticClass:"text"},[s("div",{staticClass:"text_title"},[i._v("Transaction Fee")]),i._v(" "),s("div",{staticClass:"text_num"},[i._v(i._s(i.mfee)+" "+i._s(i.baseToken))])])]),i._v(" "),s("div",{staticClass:"modal-footer"},[i.confirm?s("div",{staticClass:"long_btn"},[s("button",{staticClass:"cancel",attrs:{"data-dismiss":"modal"}},[i._v("\n                CANCEL\n              ")]),i._v(" "),s("button",{staticClass:"confirm",on:{click:i.place_order_sell}},[i._v("\n                OK\n              ")])]):s("div",{staticClass:"long_peding_btn"},[i._m(5)])])])])])])]),i._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"addMargin",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[i._m(6),i._v(" "),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"margin_box_info"},[s("div",[i._v("Wallet Balance")]),i._v(" "),s("div",{staticClass:"money"},[s("span",[s("span",{staticClass:"bt_balance"},[i._v("\n                  "+i._s(i.balance)+"."),s("span",{staticStyle:{"font-size":"12px"}},[i._v(i._s(i.addMarginSub))])]),i._v(" "),s("br"),i._v(" "),s("span",{staticStyle:{"font-size":"14px",position:"relative",top:"-7px"}},[i._v("\n                  "+i._s(i.baseToken)+"\n                ")])]),i._v(" "),s("span",{staticClass:"add"})]),i._v(" "),s("div",{staticClass:"enter_margin"},[s("div",{staticClass:"input_margin"},[s("div",{staticClass:"box"},[s("div",{directives:[{name:"show",rawName:"v-show",value:i.isEnterMargin,expression:"isEnterMargin"}],staticClass:"amount"},[i._v("AMOUNT")]),i._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:i.depositMargin,expression:"depositMargin"}],staticClass:"margin_value",attrs:{type:"number",placeholder:"Amount"},domProps:{value:i.depositMargin},on:{input:function(t){t.target.composing||(i.depositMargin=t.target.value)}}})])]),i._v(" "),s("div",[i._v(i._s(i.baseToken))])]),i._v(" "),s("div",{staticClass:"max"},[i._v("\n            MAX: "),s("span",{staticClass:"max_num"},[i._v(i._s(this.maxBalance))]),i._v(" "),s("span",{staticClass:"max_btn_left",on:{click:i.addMaxMargin}},[i._v("ADD ALL")])]),i._v(" "),s("div",{staticClass:"add_margin_btn"},[s("button",{staticClass:"margin_btn",attrs:{id:"depositMarginButton"},on:{click:i.onDepositMargin}},[s("span",{staticClass:"spinner spinner-border spinner-border-sm",staticStyle:{display:"none"},attrs:{role:"status","aria-hidden":"true"}}),i._v("\n              DEPOSIT\n            ")])])])])])])]),i._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"removeMargin",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[i._m(7),i._v(" "),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"margin_box_info"},[s("div",[i._v("Available Balance")]),i._v(" "),s("div",{staticClass:"money"},[s("span",[s("span",{staticClass:"bt_balance"},[i._v("\n                "+i._s(i.modalMarginNum)+"."),s("span",{staticStyle:{"font-size":"12px"}},[i._v(i._s(i.removeMarginSub))])])]),i._v(" "),s("span",{staticClass:"remove"})]),i._v(" "),s("div",{staticClass:"enter_margin remv"},[s("div",{staticClass:"input_margin"},[s("div",{staticClass:"box"},[s("div",{directives:[{name:"show",rawName:"v-show",value:i.isEnterMargin,expression:"isEnterMargin"}],staticClass:"amount"},[i._v("AMOUNT")]),i._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:i.withdrawMargin,expression:"withdrawMargin"}],staticClass:"margin_value",attrs:{type:"number",placeholder:"Amount"},domProps:{value:i.withdrawMargin},on:{input:function(t){t.target.composing||(i.withdrawMargin=t.target.value)}}})])]),i._v(" "),s("div",[i._v(i._s(i.baseToken))])]),i._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:i.isPosition,expression:"isPosition"}],staticClass:"max"},[i._v("\n            MAX: "),s("span",{staticClass:"max_num"},[i._v(i._s(this.maxMargin))]),i._v(" "),s("span",{staticClass:"max_btn_left",on:{click:i.removeMaxMargin}},[i._v("REMOVE ALL")])]),i._v(" "),s("div",{staticClass:"add_margin_btn",class:i.isPosition?"":"remove_margin_btn"},[s("button",{staticClass:"margin_btn",attrs:{id:"withdrawMarginButton"},on:{click:i.onWithdrawMargin}},[s("span",{staticClass:"spinner spinner-border spinner-border-sm",staticStyle:{display:"none"},attrs:{role:"status","aria-hidden":"true"}}),i._v("\n              WITHDRAW\n            ")])])])])])])]),i._v(" "),s("div",{staticClass:"nav"},[s("div",{staticClass:"nav_mean"},[i._m(8),i._v(" "),s("ul",{staticClass:"mean"},[s("li",{staticClass:"menu_li"},[s("router-link",{attrs:{to:"/mining"}},[i._v("Mining")])],1),i._v(" "),s("li",{staticClass:"menu_li"},[s("router-link",{staticStyle:{color:"#ffffff"},attrs:{to:"/lite"}},[i._v(" Trade ")])],1),i._v(" "),i._m(9),i._v(" "),i._m(10),i._v(" "),s("li",{staticClass:"menu_li ref"},[s("a",{attrs:{href:"https://docs.deri.finance/"}},[i._v("Docs")]),i._v(" "),s("svg",{staticClass:"Zi Zi--ArrowDown ContentItem-arrowIcon",attrs:{fill:"currentColor",viewBox:"0 0 24 24",width:"24",height:"24"}},[s("path",{attrs:{d:"M12 13L8.285 9.218a.758.758 0 0 0-1.064 0 .738.738 0 0 0 0 1.052l4.249 4.512a.758.758 0 0 0 1.064 0l4.246-4.512a.738.738 0 0 0 0-1.052.757.757 0 0 0-1.063 0L12.002 13z","fill-rule":"evenodd"}})]),i._v(" "),i._m(11)])]),i._v(" "),s("div",{staticClass:"connect"},[s("div",{staticClass:"network_text_logo"},[s("i",{class:i.walletSymbol})]),i._v(" "),s("span",{staticClass:"logo_text"},[i._v(i._s(i.networkText))]),i._v(" "),i.noNetwork?s("div",{staticClass:"bg_btn"},[i.isConnect?s("button",{staticClass:"nav_btn"},[i._v("\n            "+i._s(i.wallet)+" "+i._s(i.walletSymbol)+" "),s("span",{staticClass:"address"},[i._v(i._s(i.address))])]):s("button",{staticClass:"nav_btn connect_btn",on:{click:function(t){return i.connectWallet()}}},[i._v("\n            Connect Wallet\n          ")])]):s("div",[s("button",{staticClass:"nav_btn noNetwork"},[i._v("\n            "+i._s(i.noNetworkText)+"\n          ")])])])])]),i._v(" "),s("div",{staticClass:"middle"},[s("div",{staticClass:"box"},[s("div",{staticClass:"middle_left"},[s("div",{staticClass:"check_lite_pro"},[s("div",{staticClass:"lite"},[s("router-link",{attrs:{to:"/lite"}},[i._v("LITE")])],1),i._v(" "),s("div",{staticClass:"pro"},[i._v("PRO")])]),i._v(" "),s("div",{staticClass:"trade_contract"},[s("div",{staticClass:"trade_position"},[i._m(12),i._v(" "),s("div",{staticClass:"trade_info"},[s("div",{staticClass:"trade_peration"},[s("div",{staticClass:"check_baseToken"},[s("div",{staticClass:"btn-group check_baseToken_btn"},[s("button",{staticClass:"btn  chec",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[i._v("\n                  "+i._s(i.symbol)+" / "+i._s(i.baseToken)+" (10X)\n\n                  "),s("span",{staticClass:"check_base_down"},[s("svg",{staticClass:"icon",attrs:{t:"1616752321986",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1700",width:"16",height:"16"}},[s("path",{attrs:{d:"M843.946667 285.866667L512 617.386667 180.053333 285.866667 119.893333 346.026667l331.946667 331.946666L512 738.133333l392.106667-392.106666-60.16-60.16z","p-id":"1701",fill:"#cccccc"}})])])]),i._v(" "),s("div",{staticClass:"dropdown-menu"},[s("div",{staticClass:"dropdown_box"},i._l(i.bToken_list,function(t){return s("span",{key:t.index,staticClass:"dropdown-item",on:{click:function(e){return i.init(t.pool,t.symbol,t.bTokenSymbol)}}},[i._v("\n                      "+i._s(t.base)+" (10X)\n                    ")])}),0)])]),i._v(" "),s("div",{staticClass:"price_fundingRate"},[s("div",{staticClass:"index_prcie"},[i._v("\n                      Index Price: "),s("span",{class:this.rose_fall},[i._v(i._s(i.IndexPrice))])]),i._v(" "),s("div",{staticClass:"funding_rate"},[s("span",[i._v("Funding Rate Annual:")]),i._v(" "),s("span",{staticClass:"funding_per",attrs:{title:"Funding  Rate (per block) = "+i.fundingRatePerBlock+"\n(1 Long contract pays 1 short contract "+i.fundingRatePerBlock+" "+i.baseToken+" per block)"}},[i._v(i._s(i.FundingRate))])])])]),i._v(" "),s("div",{staticClass:"check_long_short",class:i.long_short?"checked_long":"checked_long checked_short"},[s("div",{staticClass:"check_long",on:{click:i.checkedLong}},[i._v("\n                    LONG / BUY\n                  ")]),i._v(" "),s("div",{staticClass:"check_short",on:{click:i.checkedShort}},[i._v("\n                    SHORT / SELL\n                  ")])]),i._v(" "),s("div",{staticClass:"the_input"},[s("div",{staticClass:"left"},[s("div",{staticClass:"current_position"},[s("span",[i._v("Current Position")]),i._v(" "),s("span",{staticClass:"position_text"},[i._v(i._s(i.position))])]),i._v(" "),s("div",{staticClass:"contrant"},[s("input",{directives:[{name:"model",rawName:"v-model",value:i.contrantVolume,expression:"contrantVolume"}],staticClass:"contrant_input",class:i.isVolume?"inputFamliy":"",attrs:{type:"number",onkeyup:"value=value.replace(/^(0+)|[^\\d]+/g,'')",placeholder:"Contract Volume"},domProps:{value:i.contrantVolume},on:{input:function(t){t.target.composing||(i.contrantVolume=t.target.value)}}}),i._v(" "),s("div",{staticClass:"title_volume"},[i._v("\n                        Contract Volume\n                      ")])]),i._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:i.isVolume,expression:"isVolume"}],staticClass:"btc"},[i._v("= "+i._s(i.btc)+" "+i._s(i.btc_coin))])]),i._v(" "),s("div",{staticClass:"right_info"},[s("div",{staticClass:"contrant_info"},[s("div",{staticClass:"balance_contract"},[i._m(13),i._v(" "),s("span",{staticClass:"balance_contract_num"},[i._v("\n                          "+i._s(i.balanceContract)+"\n                        ")])]),i._v(" "),s("div",{staticClass:"box_margin"},[s("span",[i._v(" Margin ")]),i._v(" "),s("span",{staticClass:"margin"},[i._v("\n                          "+i._s(i.Margin)+"\n                        ")])]),i._v(" "),s("div",{staticClass:"available_balance"},[s("span",[i._v(" Available Balance ")]),i._v(" "),s("span",{staticClass:"available_balance_num"},[i._v("\n                          "+i._s(i.availableBalance)+"\n                        ")])])])])]),i._v(" "),s("div",{staticClass:"slider mt_13"},[s("slider",{attrs:{min:0,max:100,sliderMaxValue:i.balanceContract,sliderMargin:i.Margin},on:{input:i.per_value,up:i.per_up},model:{value:i.per,callback:function(t){i.per=t},expression:"per"}})],1),i._v(" "),s("div",{staticClass:"title_margin"},[i._v("Margin")]),i._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:i.isVolume,expression:"isVolume"}],staticClass:"enterInfo"},[s("div",{staticClass:"pro_enterinfo"},[s("div",{staticClass:"text_info left_w"},[s("div",{staticClass:"title_enter pool"},[i._v("Pool Liquidity")]),i._v(" "),s("div",{staticClass:"text_enter poolL"},[i._v("\n                        "+i._s(i.total_liquidity)+" "+i._s(i.baseToken)+"\n                      ")])]),i._v(" "),s("div",{staticClass:"text_info"},[s("div",{staticClass:"title_enter"},[i._v("Liquidity Used")]),i._v(" "),s("div",{staticClass:"text_enter"},[i._v("\n                        "+i._s(i.liq_used)+" -> "+i._s(i.liq_used_after)+"\n                      ")])])]),i._v(" "),s("div",{staticClass:"pro_enterinfo"},[s("div",{staticClass:"text_info left_w"},[s("div",{staticClass:"title_enter"},[i._v("Funding Rate Impact")]),i._v(" "),s("div",{staticClass:"text_enter"},[i._v("\n                        "+i._s(i.FundingRate)+" -> "+i._s(i.fund_rate_after)+"\n                      ")])]),i._v(" "),s("div",{staticClass:"text_info"},[s("div",{staticClass:"title_enter"},[i._v("Transaction Fee")]),i._v(" "),s("div",{staticClass:"text_enter"},[i._v(i._s(i.mfee)+" "+i._s(i.baseToken))])])])]),i._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!i.isMargin,expression:"!isMargin"}],staticClass:"noMargin_text"},[i._v("\n                  "+i._s(i.tit_margin)+"\n                ")]),i._v(" "),s("div",{staticClass:"submit_btn"},[i.isConnect?s("div",[i.isApprove?s("div",[s("div",{directives:[{name:"show",rawName:"v-show",value:i.isMargin,expression:"isMargin"}]},[s("div",{directives:[{name:"show",rawName:"v-show",value:i.isVolume,expression:"isVolume"}]},[i.long_short?s("button",{staticClass:"long_submit",attrs:{"data-toggle":"modal","data-target":"#addContract"}},[i._v("\n                            TRADE\n                          ")]):s("button",{staticClass:"short_submit",attrs:{"data-toggle":"modal","data-target":"#removeContract"}},[i._v("\n                            TRADE\n                          ")])]),i._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!i.isVolume,expression:"!isVolume"}]},[s("button",{staticClass:"btn btn-danger short_submit",attrs:{disabled:""}},[i._v("\n                            ENTER VOLUME\n                          ")])])]),i._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!i.isMargin,expression:"!isMargin"}]},[s("button",{staticClass:"short_submit",attrs:{"data-toggle":"modal","data-target":"#addMargin"}},[i._v("\n                          DEPOSIT\n                        ")])])]):s("div",[s("button",{staticClass:"approve",attrs:{id:"Unlock"},on:{click:i.unlock}},[s("span",{staticClass:"spinner spinner-border spinner-border-sm",staticStyle:{display:"none"},attrs:{role:"status","aria-hidden":"true"}}),i._v("\n                          APPROVE\n                      ")])])]):s("div",[s("button",{staticClass:"btn btn-danger connect",on:{click:function(t){return i.connectWallet()}}},[i._v("\n                      Connect Wallet\n                    ")])])])])])]),i._v(" "),s("div",{staticClass:"contract_box"},[s("div",{staticClass:"contract_info"},[s("div",{staticClass:"conntract_header"},[i._v("CONTRACT INFO")]),i._v(" "),s("div",{staticClass:"info"},[s("div",{staticClass:"title"},[i._v("Base Token")]),i._v(" "),s("div",{staticClass:"text"},[i._v("\n                  "+i._s(i.baseToken)+"\n                ")])]),i._v(" "),s("div",{staticClass:"info"},[s("div",{staticClass:"title"},[i._v("Symbol")]),i._v(" "),s("div",{staticClass:"text"},[i._v("\n                  "+i._s(i.symbol)+"\n                ")])]),i._v(" "),s("div",{staticClass:"info"},[s("div",{staticClass:"title"},[i._v("Multiplier")]),i._v(" "),s("div",{staticClass:"text"},[i._v("\n                  "+i._s(i.Multiplier)+"\n                ")])]),i._v(" "),s("div",{staticClass:"info"},[s("div",{staticClass:"title"},[i._v("Funding Rate Coefficient")]),i._v(" "),s("div",{staticClass:"text"},[i._v("\n                  "+i._s(i.FundingRateCoefficient)+"\n                ")])]),i._v(" "),s("div",{staticClass:"info"},[s("div",{staticClass:"title"},[i._v("Min Initial Margin Ratio")]),i._v(" "),s("div",{staticClass:"text"},[i._v("\n                  "+i._s(i.MinInitialMarginRatio)+"\n                ")])]),i._v(" "),s("div",{staticClass:"info"},[s("div",{staticClass:"title"},[i._v("Min Maintenance Margin Ratio")]),i._v(" "),s("div",{staticClass:"text"},[i._v("\n                  "+i._s(i.MinMaintenanceMarginRatio)+"\n                ")])]),i._v(" "),s("div",{staticClass:"info"},[s("div",{staticClass:"title"},[i._v("Transaction Fee")]),i._v(" "),s("div",{staticClass:"text"},[i._v("\n                  "+i._s(i.TransactionFee)+"\n                ")])])])])])]),i._v(" "),s("div",{staticClass:"middle_right"},[s("div",{staticClass:"right_top"},[s("div",{staticClass:"symbol_basetoken_text"},[i._v("\n            "+i._s(i.symbol)+" / "+i._s(i.baseToken)+" (10X)\n          ")]),i._v(" "),s("div",{staticClass:"trade-dashboard-item latest-price"},[s("div",{staticClass:"trade-dashboard-title"},[i._v("Index Price")]),i._v(" "),s("div",{staticClass:"trade-dashboard-value ",class:this.rose_fall},[i._v(i._s(i.IndexPrice))])]),i._v(" "),s("div",{staticClass:"trade-dashboard-item latest-price"},[i._m(14),i._v(" "),s("div",{staticClass:"trade-dashboard-value"},[s("span",{staticClass:"funding_per",attrs:{title:"Funding  Rate (per block) = "+i.fundingRatePerBlock+"\n(1 Long contract pays 1 short contract "+i.fundingRatePerBlock+" "+i.baseToken+" per block)"}},[i._v(" "+i._s(i.FundingRate))])])]),i._v(" "),s("div",{staticClass:"trade-dashboard-item latest-price"},[s("div",{staticClass:"trade-dashboard-title"},[i._v("Total Net Position")]),i._v(" "),s("div",{staticClass:"trade-dashboard-value"},[i._v(i._s(i.TotalNetPosition))])]),i._v(" "),s("div",{staticClass:"trade-dashboard-item latest-price"},[s("div",{staticClass:"trade-dashboard-title"},[i._v("Pool Total liquidity")]),i._v(" "),s("div",{staticClass:"trade-dashboard-value"},[i._v(i._s(i.PoolTotalliquidity)+" "+i._s(i.baseToken))])])]),i._v(" "),s("div",{staticClass:"tradingview"},[s("tardingview",{attrs:{symbol:i.symbol}})],1),i._v(" "),s("div",{staticClass:"position_info"},[s("div",{staticClass:"position_header"},[s("div",{staticClass:"position_title"},[s("span",{directives:[{name:"show",rawName:"v-show",value:i.isPosition_info,expression:"isPosition_info"}]},[i._v("POSITION INFO")]),i._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!i.isPosition_info,expression:"!isPosition_info"}]},[i._v("TRADE HISTORY")])]),i._v(" "),s("div",{staticClass:"check_position_history"},[s("div",{staticClass:"btn_position",class:i.isPosition_info?"action":"",on:{click:function(){t.isPosition_info=!0}}},[i._v("\n            CURRENT POSITION\n            ")]),i._v(" "),s("div",{staticClass:"btn_history",class:i.isPosition_info?"":"action",on:{click:function(){t.isPosition_info=!1}}},[i._v("\n              TRADE HISTORY\n            ")])])]),i._v(" "),s("div",{staticClass:"pos_his_info"},[s("div",{directives:[{name:"show",rawName:"v-show",value:i.isPosition_info,expression:"isPosition_info"}],staticClass:"position_box"},[i._m(15),i._v(" "),s("div",{staticClass:"p_box tbody"},[s("div",[i._v("\n                  "+i._s(i.position)+"\n                  "),s("span",{staticClass:"close_position",on:{click:i.closePosition}},[s("span",{directives:[{name:"show",rawName:"v-show",value:i.isClickClosePosition,expression:"isClickClosePosition"}],staticClass:"spinner spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}),i._v(" "),s("img",{directives:[{name:"show",rawName:"v-show",value:!i.isClickClosePosition,expression:"!isClickClosePosition"}],attrs:{src:e("BM0X"),alt:""}})])]),i._v(" "),s("div",[i._v(i._s(i.AverageEntryPrice))]),i._v(" "),s("div",{class:i.Direction},[i._v(i._s(i.Direction))]),i._v(" "),s("div",[i._v("\n                  "+i._s(i.balanceContract)+"\n                  "),s("span",{staticClass:"open_add",attrs:{"data-toggle":"modal","data-target":"#addMargin"}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"}},[s("path",{attrs:{id:"login",d:"M13,9,7,4V7H0v4H7v3Zm3,7H8v2h8a2.006,2.006,0,0,0,2-2V2a2.006,2.006,0,0,0-2-2H8V2h8Z",transform:"translate(18) rotate(90)",fill:"#3ebf38"}})])]),i._v(" "),s("span",{staticClass:"open_remove",attrs:{"data-toggle":"modal","data-target":"#removeMargin"}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"}},[s("path",{attrs:{id:"log_out","data-name":"log out",d:"M18,9,12,4V7H5v4h7v3ZM2,2h8V0H2A2.006,2.006,0,0,0,0,2V16a2.006,2.006,0,0,0,2,2h8V16H2Z",transform:"translate(0 18) rotate(-90)",fill:"#e35061"}})])])]),i._v(" "),s("div",[i._v(i._s(i.Margin))]),i._v(" "),s("div",[i._v(i._s(i.UnrealizedPnL))]),i._v(" "),s("div",[i._v(i._s(i.LiquidationPrice))])]),i._v(" "),s("div",{staticClass:"p_box tbody"})]),i._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!i.isPosition_info,expression:"!isPosition_info"}],staticClass:"history_box"},[i._m(16),i._v(" "),i._l(i.history,function(t){return s("div",{key:t.index,staticClass:"p_box tbody"},[s("div",{staticClass:"td"},[i._v("\n                  "+i._s(t.time)+"\n                ")]),i._v(" "),s("div",{class:t.direction},[i._v("\n                  "+i._s(t.direction)+"\n                  "),s("a",{staticClass:"go_tx",attrs:{href:t.url_tx},on:{mouseenter:function(e){return i.enter(t.index)},mouseleave:function(t){return i.leave()}}},[s("img",{attrs:{src:e("0qk0"),alt:""}}),i._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:i.seen&&t.index==i.current,expression:"seen&&list.index==current"}],staticClass:"go_text"},[s("span",{staticClass:"left_t"},[i._v(i._s(t.url))]),i._v(" "),s("span",{staticClass:"right_j"})])])]),i._v(" "),s("div",[i._v("\n                  "+i._s(t.baseToken)+"\n                ")]),i._v(" "),s("div",[i._v("\n                  "+i._s(t.price)+"\n                ")]),i._v(" "),s("div",[i._v("\n                  "+i._s(t.volume)+"\n                ")]),i._v(" "),s("div",[i._v("\n                  "+i._s(t.notional)+"\n                ")]),i._v(" "),s("div",[i._v("\n                  "+i._s(t.transactionFee)+"\n                ")])])})],2)])])])])]),i._v(" "),s("footers")],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"modal-header"},[i("div",{staticClass:"title"},[this._v("\n          CONFIRM\n        ")]),this._v(" "),i("div",{staticClass:"close",attrs:{"data-dismiss":"modal"}},[i("span",[this._v("×")])])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"text"},[i("div",{staticClass:"text_title"},[this._v("Direction")]),this._v(" "),i("div",{staticClass:"text_num"},[i("span",{staticClass:"long"},[this._v("LONG")])])])},function(){var t=this.$createElement,i=this._self._c||t;return i("button",{staticClass:"confirm"},[i("span",{staticClass:"spinner spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}),this._v("\n                PENDING\n              ")])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"modal-header"},[i("div",{staticClass:"title"},[this._v("\n          CONFIRM\n        ")]),this._v(" "),i("div",{staticClass:"close",attrs:{"data-dismiss":"modal"}},[i("span",[this._v("×")])])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"text"},[i("div",{staticClass:"text_title"},[this._v("Direction")]),this._v(" "),i("div",{staticClass:"text_num"},[i("span",{staticClass:"short"},[this._v("SHORT")])])])},function(){var t=this.$createElement,i=this._self._c||t;return i("button",{staticClass:"confirm"},[i("span",{staticClass:"spinner spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}),this._v("\n                PENDING\n              ")])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"modal-header"},[i("div",{staticClass:"title"},[this._v("\n          DEPOSIT MARGIN\n        ")]),this._v(" "),i("div",{staticClass:"close",attrs:{"data-dismiss":"modal"}},[i("span",[this._v("×")])])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"modal-header"},[i("div",{staticClass:"title"},[this._v("\n          WITHDRAW MARGIN\n        ")]),this._v(" "),i("div",{staticClass:"close",attrs:{"data-dismiss":"modal"}},[i("span",[this._v("×")])])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"logo"},[i("a",{attrs:{href:"https://deri.finance",target:"_blank"}},[i("img",{attrs:{src:e("+v4m"),alt:""}})])])},function(){var t=this.$createElement,i=this._self._c||t;return i("li",{staticClass:"menu_li"},[i("a",{attrs:{target:"_blank",href:"https://governance.deri.finance/"}},[this._v("Governance")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("li",{staticClass:"menu_li"},[i("a",{attrs:{target:"_blank",href:"https://bridge.deri.finance/"}},[this._v("Bridge")])])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"ref_box"},[e("ul",{attrs:{id:"docs_index"}},[e("li",{staticClass:"docs_li"},[e("a",{attrs:{href:"https://github.com/deri-finance/whitepaper/blob/master/deri_whitepaper.pdf"}},[t._v("Whitepaper")])]),t._v(" "),e("li",{staticClass:"docs_li"},[e("a",{attrs:{href:"https://github.com/peckshield/publications/blob/master/audit_reports/PeckShield-Audit-Report-Deri-v1.0.pdf"}},[t._v("Code Audit")])]),t._v(" "),e("li",{staticClass:"docs_li"},[e("a",{attrs:{href:"https://deri.finance/#/team"}},[t._v("Team")])]),t._v(" "),e("li",{staticClass:"docs_li"},[e("a",{attrs:{href:"https://docs.deri.finance/faq"}},[t._v("FAQ")])]),t._v(" "),e("li",{staticClass:"docs_li"},[e("a",{attrs:{href:"https://docs.deri.finance/"}},[t._v("Guide")])]),t._v(" "),e("li",{staticClass:"docs_li"},[e("a",{attrs:{href:"https://github.com/deri-finance/"}},[t._v("Github")])])])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"header"},[i("span",{staticClass:"trade action"},[this._v(" TRADE ")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("span",{staticClass:"balance_contract_text"},[this._v("\n                          Balance in Contract"),i("br"),this._v("\n                          (Dynamic Balance)\n                        ")])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"trade-dashboard-title"},[i("span",[this._v("Funding Rate Annual")])])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"p_box theader"},[e("div",[t._v("Position")]),t._v(" "),e("div",[t._v("Average Entry Price")]),t._v(" "),e("div",[t._v("Direction")]),t._v(" "),e("div",[t._v("\n                  Balance in Contract"),e("br"),t._v("\n                  (Dynamic Balance)\n                ")]),t._v(" "),e("div",[t._v("Margin")]),t._v(" "),e("div",[t._v("Unrealized PnL")]),t._v(" "),e("div",[t._v("Liquidation Price")])])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"p_box theader"},[e("div",{staticClass:"td"},[t._v("Time")]),t._v(" "),e("div",[t._v("Direction")]),t._v(" "),e("div",[t._v("Base Token")]),t._v(" "),e("div",[t._v("Price")]),t._v(" "),e("div",[t._v("Volume")]),t._v(" "),e("div",[t._v("Notional")]),t._v(" "),e("div",[t._v("Transaction Fee")])])}]};var I=e("C7Lr")(w,y,!1,function(t){e("t4xS")},"data-v-adfec902",null);i.default=I.exports},"0qk0":function(t,i){t.exports="data:image/svg+xml;base64,DQo8c3ZnIGZpbGw9Im5vbmUiIGhlaWdodD0iMTAiIHdpZHRoPSIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCiAgICA8cGF0aCBkPSJNOC42NzYuNjQyYS42NS42NSAwIDAwLS4wNzIuMDA2SDQuNzkzYS42NS42NSAwIDAwLS41Ny45NzUuNjUuNjUgMCAwMC41Ny4zMjJINy4xMkwuNDM4IDguNjE0YS42NDcuNjQ3IDAgMDAuMjg2IDEuMDk2LjY1LjY1IDAgMDAuNjMyLS4xNzlMOC4wNCAyLjg2MXYyLjMyNGEuNjQ4LjY0OCAwIDAwLjk3Ny41Ny42NDguNjQ4IDAgMDAuMzIyLS41N1YxLjM4YS42NDcuNjQ3IDAgMDAtLjY2Mi0uNzM3eiIgZmlsbD0iI0FBQUFBQSIvPg0KPC9zdmc+DQoNCg=="},"7d4M":function(t,i,e){"use strict";var a={props:["min","max","value","sliderMaxValue","sliderMargin"],data:function(){return{slider:null,thunk:null,per:this.value,maxValue:"",margin:""}},watch:{value:{handler:function(t,i){t=Math.abs(t),console.log(t),this.per=t>100?100:t}},sliderMaxValue:{handler:function(t,i){this.maxValue=t}},sliderMargin:{handler:function(t,i){this.margin="0.00"!=t?t:""}}},mounted:function(){this.slider=this.$refs.slider,this.thunk=this.$refs.trunk;var t=this;this.thunk.onmousedown=function(i){var e=parseInt(t.width),a=i.clientX;return document.onmousemove=function(i){var s=(i.clientX-a+e)/t.slider.offsetWidth;t.per=Math.ceil((t.max-t.min)*s+t.min),t.per=Math.max(t.per,t.min),t.per=Math.min(t.per,t.max),t.$emit("input",t.per)},document.onmouseup=function(){t.$emit("up","1"),document.onmousemove=document.onmouseup=null},!1}},computed:{scale:function(){return(this.per-this.min)/(this.max-this.min)},width:function(){return this.slider?this.slider.offsetWidth*this.scale+"px":"0px"},left:function(){return this.slider?this.slider.offsetWidth*this.scale-this.thunk.offsetWidth/2+"px":"0px"}}},s={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{ref:"slider",staticClass:"slider"},[e("div",{staticClass:"text"},[e("span",[t._v("0")]),t._v(" "),e("span",[t._v(t._s(t.maxValue))])]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"process",style:{width:t.width}}),t._v(" "),e("div",{ref:"trunk",staticClass:"thunk",style:{left:t.left}},[e("div",{staticClass:"block"},[e("div",{staticClass:"margin"},[t._v("\n        "+t._s(t.margin)+"\n      ")])])])])},staticRenderFns:[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"rc-slider-mark"},[e("span",{staticStyle:{left:"0"}},[t._v("l")]),t._v(" "),e("span",{staticStyle:{left:"10%"}},[t._v("l")]),t._v(" "),e("span",{staticStyle:{left:"20%"}},[t._v("l")]),t._v(" "),e("span",{staticStyle:{left:"30%"}},[t._v("l")]),t._v(" "),e("span",{staticStyle:{left:"40%"}},[t._v("l")]),t._v(" "),e("span",{staticStyle:{left:"50%"}},[t._v("l")]),t._v(" "),e("span",{staticStyle:{left:"60%"}},[t._v("l")]),t._v(" "),e("span",{staticStyle:{left:"70%"}},[t._v("l")]),t._v(" "),e("span",{staticStyle:{left:"80%"}},[t._v("l")]),t._v(" "),e("span",{staticStyle:{left:"90%"}},[t._v("l")]),t._v(" "),e("span",{staticStyle:{left:"99%"}},[t._v("l")])])}]};var n=e("C7Lr")(a,s,!1,function(t){e("/7Cp")},null,null);i.a=n.exports},BM0X:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAlCAYAAADFniADAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF62lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wNC0wMlQxNTozODoxMyswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDQtMDZUMjA6MDU6MTIrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDQtMDZUMjA6MDU6MTIrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDlkYTVmMGQtZjBkZC0xYTRiLTlhNWUtZTBlNDMwZTI5OGI3IiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6OGU2NWEzMTAtM2M4YS1jMDQ3LWIyMDAtZjZhYTZkMDlkNWRlIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6MDUwZmRhMGUtNTUyNC0wNjQxLTg1ZmYtYWUyNjAyODUxMzgzIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowNTBmZGEwZS01NTI0LTA2NDEtODVmZi1hZTI2MDI4NTEzODMiIHN0RXZ0OndoZW49IjIwMjEtMDQtMDJUMTU6Mzg6MTMrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ5ZGE1ZjBkLWYwZGQtMWE0Yi05YTVlLWUwZTQzMGUyOThiNyIgc3RFdnQ6d2hlbj0iMjAyMS0wNC0wNlQyMDowNToxMiswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4SuXJrAAACqElEQVRYhb3XTWjTYBgH8P+bJq+0TrbatZui4EG3irCNQXVM0CqeBA+CwvAk6EVEQfy4eRFPfiGK4EUGeqgX8aSC4vAiBYnSdkNHFUFh6qGvbWFKmzSJF1Mzl3RvPpr/8X2ekB8P7wMJkWUZudx3cWpqnVJk9MZYv3IOIedTXXzb1PB129rWQQCIIJsVj2Y3qQZABmLaZJHRNYMx7XmYoM29rfFUVE/PMWk4FdMfEVmWDWuTbgAlRq+HMTETZD2bZdJ9ocSke1aVQICRhHK2UKHXwgYpOjEaeuSVMJJQj8+GDLMDNTRiFNmqY5lkY1oAgDBhziB6JJNsTAOAYBbCgHUC7Ug1H7bfa23oJowXtAzVLdjHuviGF2SLChpWron5Lb2tDC/IERUUrFwT80N9rQk3oI4oE1Zi9K4XmFfQiigAGE0oJ4qM3nYD8wPiQgHAWEI5zQvzC+JG8cKCAAEAkWWZtxcAUGD01mhCOUUsZ7oBLPyKfNvYo633CwJcTMqM08SCAnlCOcGCAnlGmbCFRfGHXe1zXXzmFeQLVa6J+Q09rUG72nBc3f+uQi+FirLbMmsiBBhNKBe9wlyjHNZe/1CVXlrvmB+YK5QTqFQRD22Nq/v+v/xeYdyoTqDtA+pjwH4rvcC4UDwgM0HAVkS5AQUF64jyAgoC5ogq16TXXkF+Ybao+ao0M9SnTvoBLYFVpJu6RbYSbBlqvirNpOPqniBAbVi/eqbE6FVe2BJUN0D/YMoFXlgb1U2QW5gQFsgNLLLr8MnQQGYGY9qLIqOrU1FtJ/n7CSsQIBXVdhcrFALI0gd+t7oLMmM3McMADBBNSPepe99XpSdtEJMOdBtkB1N1ggKj58eTzcvtH4e5n9KDRZXkJgaUp2GArClU6BVVF75kUo07APAH3WicsIPb8YcAAAAASUVORK5CYII="},t4xS:function(t,i){}});